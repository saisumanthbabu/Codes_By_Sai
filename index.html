<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Flight Booking App</title>
    <style>
        /* General Body and Layout */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
        }

        /* Container for the content */
        .container {
            width: 80%;
            margin: 0 auto;
        }

        /* Login Page Styles */
        .login-page, .flight-booking-page, .booking-details-page {
            display: none;
            padding-top: 50px;
            min-height: 100vh;
            box-sizing: border-box;
        }
        .login-page.active, .flight-booking-page.active, .booking-details-page.active {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .login-page {
            background-color: #003366;
            color: white;
            flex-direction: column;
            height: 100vh;
        }

        .login-page h2 {
            margin-bottom: 20px;
            font-size: 32px;
            text-align: center;
        }

        .login-page input {
            padding: 12px;
            font-size: 18px;
            width: 250px;
            border-radius: 5px;
            border: 1px solid #ddd;
            margin-bottom: 20px;
            transition: 0.3s;
            background-color: #fff;
        }

        .login-page input:focus {
            border-color: #ffcc00;
            outline: none;
        }

        .login-page button {
            padding: 12px 30px;
            font-size: 18px;
            background-color: #ffcc00;
            color: #003366;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: 0.3s;
        }

        .login-page button:hover {
            background-color: #ffaa00;
        }

        .login-page .alert {
            padding: 12px;
            background-color: #f44336;
            color: white;
            margin-top: 10px;
            border-radius: 5px;
            font-size: 14px;
            display: none;
        }

        header {
            text-align: center;
            background-color: #003366;
            padding: 20px;
            color: #ffcc00;
            width: 100%;
            box-sizing: border-box;
        }

        header h1 {
            font-size: 36px;
            letter-spacing: 2px;
            margin: 0;
        }

        /* Flight List Styles */
        .flight-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
            width: 100%;
        }

        .flight-item {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .flight-item:hover {
            transform: translateY(-5px);
        }

        .flight-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .flight-item h3 {
            font-size: 24px;
            color: #003366;
            margin: 10px 0 5px;
        }

        .flight-item p {
            font-size: 18px;
            color: #555;
            margin: 5px 0;
        }

        .flight-item button {
            padding: 10px 20px;
            background-color: #ffcc00;
            color: #003366;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: 0.3s;
            align-self: flex-start;
        }

        .flight-item button:hover {
            background-color: #ffaa00;
        }

        /* Booking Details Styles */
        .booking-details {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            width: 100%;
            box-sizing: border-box;
            text-align: center;
        }

        .booking-details h2 {
            font-size: 28px;
            color: #003366;
        }

        .booking-details p {
            font-size: 20px;
            color: #555;
            margin: 10px 0;
        }

        .booking-details button {
            padding: 12px 30px;
            margin: 10px 10px 0 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: 0.3s;
            font-size: 16px;
        }

        .cancel-btn {
            background-color: #d9534f;
            color: white;
        }

        .cancel-btn:hover {
            background-color: #c9302c;
        }

        .pdf-btn {
            background-color: #0275d8;
            color: white;
        }

        .pdf-btn:hover {
            background-color: #025aa5;
        }

        #alertMessage {
            margin: 20px auto;
            max-width: 500px;
            padding: 12px;
            color: white;
            border-radius: 5px;
            font-size: 16px;
            display: none;
            text-align: center;
        }
    </style>
</head>
<body>

<!-- Login Page -->
<div class="login-page active" id="loginPage">
    <h2>Welcome to the Flight Booking System</h2>
    <input type="text" id="mobileNumber" placeholder="Enter your mobile number" maxlength="10" />
    <button onclick="login()">Login</button>
    <div class="alert" id="loginAlert"></div>
</div>

<!-- Flight Booking Page -->
<div class="container flight-booking-page" id="flightBookingPage">
    <header>
        <h1>Flight Booking</h1>
    </header>

    <div id="alertMessage"></div>

    <div class="flight-list" id="flightList">
        <!-- Flight items will be injected here by JS -->
    </div>

    <button style="margin-top: 20px; background:#003366; color:#ffcc00; border:none; padding:10px 20px; border-radius:5px; cursor:pointer; font-size:16px;" onclick="goToBookingDetails()">My Booking</button>
</div>

<!-- Booking Details Page -->
<div class="container booking-details-page" id="bookingDetailsPage">
    <header>
        <h1>My Booking</h1>
    </header>

    <div class="booking-details" id="bookingDetails">
        <h2>Your Booking</h2>
        <p><strong>Destination:</strong> <span id="bookingDestination"></span></p>
        <p><strong>Departure:</strong> <span id="bookingDeparture"></span></p>
        <p><strong>Price:</strong> $<span id="bookingPrice"></span></p>
        <button class="cancel-btn" id="cancelBtn">Cancel Booking</button>
        <button class="pdf-btn" id="pdfBtn">Download Booking PDF</button>
    </div>

    <div id="noBookingMessage" style="text-align:center; font-size:20px; color:#d9534f; margin-top:40px; display:none;">
        No current bookings found.
    </div>

    <button style="margin-top: 30px; background:#003366; color:#ffcc00; border:none; padding:10px 20px; border-radius:5px; cursor:pointer; font-size:16px;" onclick="goToBookingPage()">Back to Flights</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
    const flights = [
        {id: 1, destination: "Paris", departure: "2025-02-15 08:00", price: 500, image: "https://plus.unsplash.com/premium_photo-1719581957038-0121108b9455?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},
        {id: 2, destination: "London", departure: "2025-02-16 10:00", price: 350, image: "https://images.unsplash.com/photo-1526129318478-62ed807ebdf9?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},
        {id: 3, destination: "New York", departure: "2025-02-17 15:00", price: 600, image: "https://images.unsplash.com/photo-1476837754190-8036496cea40?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},
        {id: 4, destination: "Tokyo", departure: "2025-02-18 12:00", price: 700, image: "https://plus.unsplash.com/premium_photo-1722795256346-446f8f846b9e?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},
        {id: 5, destination: "Australia", departure: "2025-04-22 02:00", price: 900, image: "https://images.unsplash.com/photo-1470294402047-fc1b5f39bd99?q=80&w=2074&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},
        {id: 6, destination: "India", departure: "2025-03-11 10:00", price: 780, image: "https://plus.unsplash.com/premium_photo-1661919589683-f11880119fb7?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},
        {id: 7, destination: "Canada", departure: "2025-06-15 10:00", price: 880, image: "https://images.pexels.com/photos/935474/toronto-beauty-clouds-skyline-935474.jpeg?cs=srgb&dl=city-landmark-water-935474.jpg&fm=jpg"},
        {id: 8, destination: "Japan", departure: "2025-02-19 06:40", price: 680, image: "https://images.unsplash.com/photo-1552444991-4e240da8ff8c?q=80&w=779&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},
        {id: 9, destination: "South Korea", departure: "2025-02-20 08:00", price: 750, image: "https://images.unsplash.com/photo-1665474099695-59f01d63bee1?q=80&w=700&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},
        {id: 10, destination: "Brazil", departure: "2025-04-20 05:00", price: 550, image: "https://images.unsplash.com/photo-1472396961693-142e6e269027?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},
        {id: 11, destination: "Rome", departure: "2025-05-20 09:30", price: 520, image: "https://images.unsplash.com/photo-1581274050302-581149d3b4c5"},
        {id: 12, destination: "Dubai", departure: "2025-04-10 14:00", price: 620, image: "https://images.unsplash.com/photo-1528702748617-c64d49f918af"},
        {id: 13, destination: "Singapore", departure: "2025-03-25 11:15", price: 650, image: "https://images.unsplash.com/photo-1600664356348-10686526af4f?q=80&w=1175&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},
        {id: 14, destination: "Cape Town", departure: "2025-07-04 16:00", price: 750, image: "https://images.unsplash.com/photo-1580060839134-75a5edca2e99"},
        {id: 15, destination: "Amaravathi", departure: "2025-06-11 06:00", price: 250, image: "https://ih1.redbubble.net/image.1655361091.1605/st,small,507x507-pad,600x600,f8f8f8.jpg"},
        {id: 16, destination: "America", departure: "2025-06-26 22:00", price: 950, image: "https://www.pixelstalk.net/wp-content/uploads/2016/06/USA-Flag-Iphone-HD-Pictures.jpg"},

        
    ];

    // Current booking stored in localStorage key 'booking'

    // --- LOGIN FUNCTION ---
    function login() {
        const mobileInput = document.getElementById("mobileNumber");
        const alertDiv = document.getElementById("loginAlert");
        const mobile = mobileInput.value.trim();

        alertDiv.style.display = "none";
        if (!/^\d{10}$/.test(mobile)) {
            alertDiv.textContent = "Please enter a valid 10-digit mobile number.";
            alertDiv.style.display = "block";
            return;
        }

        // Simulate login success
        showFlightBookingPage();
    }

    // --- UI STATE MANAGEMENT ---
    function showLoginPage() {
        document.getElementById("loginPage").classList.add("active");
        document.getElementById("flightBookingPage").classList.remove("active");
        document.getElementById("bookingDetailsPage").classList.remove("active");
    }

    function showFlightBookingPage() {
        document.getElementById("loginPage").classList.remove("active");
        document.getElementById("flightBookingPage").classList.add("active");
        document.getElementById("bookingDetailsPage").classList.remove("active");
        renderFlightList();
        clearAlert();
    }

    function goToBookingDetails() {
        document.getElementById("loginPage").classList.remove("active");
        document.getElementById("flightBookingPage").classList.remove("active");
        document.getElementById("bookingDetailsPage").classList.add("active");
        renderBookingDetails();
        clearAlert();
    }

    function goToBookingPage() {
        document.getElementById("loginPage").classList.remove("active");
        document.getElementById("flightBookingPage").classList.add("active");
        document.getElementById("bookingDetailsPage").classList.remove("active");
        clearAlert();
    }

    // --- RENDER FLIGHT LIST ---
    function renderFlightList() {
        const flightListDiv = document.getElementById("flightList");
        flightListDiv.innerHTML = "";

        flights.forEach(flight => {
            const div = document.createElement("div");
            div.classList.add("flight-item");
            div.innerHTML = `
                <img src="${flight.image}" alt="${flight.destination} Image" />
                <h3>${flight.destination}</h3>
                <p><strong>Departure:</strong> ${flight.departure}</p>
                <p><strong>Price:</strong> $${flight.price}</p>
                <button onclick="bookFlight(${flight.id})">Book Flight</button>
            `;
            flightListDiv.appendChild(div);
        });
    }

    // --- BOOK FLIGHT ---
    function bookFlight(flightId) {
        const flight = flights.find(f => f.id === flightId);
        if (flight) {
            localStorage.setItem("booking", JSON.stringify(flight));
            showAlert(`Booking confirmed! You have successfully booked a flight to ${flight.destination}`, "success");
        }
    }

    // --- RENDER BOOKING DETAILS ---
    function renderBookingDetails() {
        const booking = JSON.parse(localStorage.getItem("booking"));
        const bookingDetailsDiv = document.getElementById("bookingDetails");
        const noBookingMessage = document.getElementById("noBookingMessage");

        if (!booking) {
            bookingDetailsDiv.style.display = "none";
            noBookingMessage.style.display = "block";
        } else {
            bookingDetailsDiv.style.display = "block";
            noBookingMessage.style.display = "none";

            document.getElementById("bookingDestination").textContent = booking.destination;
            document.getElementById("bookingDeparture").textContent = booking.departure;
            document.getElementById("bookingPrice").textContent = booking.price;
        }
    }

    // --- CANCEL BOOKING ---
    document.getElementById("cancelBtn").addEventListener("click", () => {
        localStorage.removeItem("booking");
        renderBookingDetails();
        showAlert("Your booking has been cancelled.", "success");
    });

    // --- GENERATE PDF ---
    document.getElementById("pdfBtn").addEventListener("click", () => {
        const booking = JSON.parse(localStorage.getItem("booking"));
        if (!booking) {
            showAlert("No booking to generate PDF.", "error");
            return;
        }

        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();

        doc.setFontSize(22);
        doc.text("Flight Booking Details", 20, 30);

        doc.setFontSize(16);
        doc.text(`Destination: ${booking.destination}`, 20, 50);
        doc.text(`Departure: ${booking.departure}`, 20, 60);
        doc.text(`Price: $${booking.price}`, 20, 70);

        doc.save("booking.pdf");
    });

    // --- ALERTS ---
    function showAlert(message, type) {
        const alertDiv = document.getElementById("alertMessage");
        alertDiv.textContent = message;
        alertDiv.style.display = "block";
        if (type === "success") {
            alertDiv.style.backgroundColor = "#4CAF50";
        } else if (type === "error") {
            alertDiv.style.backgroundColor = "#f44336";
        } else {
            alertDiv.style.backgroundColor = "#333";
        }
        // Hide after 3 seconds
        setTimeout(() => {
            alertDiv.style.display = "none";
        }, 3000);
    }

    function clearAlert() {
        const alertDiv = document.getElementById("alertMessage");
        alertDiv.style.display = "none";
        alertDiv.textContent = "";
    }

</script>
</body>
</html>
